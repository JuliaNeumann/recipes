(this.webpackJsonprecipes_frontend=this.webpackJsonprecipes_frontend||[]).push([[0],{133:function(e,t,n){},164:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),i=n.n(c),s=n(232),o=n(233),u=(n(133),n(7)),l=n.n(u),j=n(12),d=n(11),p=n(67),b=n(15),h=n(31),O=n(18),f=n(4),m=n(242),x=n(227),g=n(228),v=n(229),w=n(119),y=n(51),k=n(239),S=n(230),N=n(208),B=n(231),C=n(5),R=n(113),I=n.n(R),_=n(115),z=n.n(_),F=n(114),W=n.n(F),E=n(84),L=n(55),P=n(234),D=n(209),A=n(105),M=n.n(A),T=n(2),H=["classes"],G=Object(C.a)((function(e){return Object(m.a)({formRowFlex:{marginBottom:25,display:"flex"},ingredientAmount:{maxWidth:60,marginRight:10},ingredientMain:{flexGrow:1,marginRight:10},ingredientUnit:{maxWidth:150,marginRight:10}})}))((function(e){var t=e.classes,n=Object(L.a)(e,H);return Object(T.jsxs)("div",{className:t.formRowFlex,children:[Object(T.jsx)(P.a,{className:t.ingredientAmount,label:"Menge",type:"number",value:n.ingredient.amount,onChange:function(e){return n.updateIngredient(n.index,Object(b.a)(Object(b.a)({},n.ingredient),{},{amount:parseInt(e.target.value)}))},InputLabelProps:{shrink:!0}}),Object(T.jsx)(P.a,{className:t.ingredientUnit,label:"Einheit",value:n.ingredient.unit,onChange:function(e){return n.updateIngredient(n.index,Object(b.a)(Object(b.a)({},n.ingredient),{},{unit:e.target.value}))}}),Object(T.jsx)(P.a,{className:t.ingredientMain,label:"Zutat",value:n.ingredient.name,onChange:function(e){return n.updateIngredient(n.index,Object(b.a)(Object(b.a)({},n.ingredient),{},{name:e.target.value}))}})]})})),U=["classes"],Z=Object(C.a)((function(e){return Object(m.a)({wrapper:{display:"flex",alignItems:"baseline",paddingBottom:e.spacing()},numField:{maxWidth:50,marginRight:e.spacing()}})}))((function(e){var t=e.classes,n=Object(L.a)(e,U);return Object(T.jsxs)(y.a,{className:t.wrapper,component:"div",children:["Zutaten f\xfcr \xa0",Object(T.jsx)(P.a,{className:t.numField,type:"number",InputProps:{inputProps:{min:1}},value:n.portions,onChange:n.changeHandler}),"Portionen:"]})})),V=n(34),J=n.n(V),K="/users",X="/api",q=function(){return{Authorization:"Token ".concat(localStorage.getItem("token"))}};function Q(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.post("".concat(X,"/recipes/"),Object(b.a)(Object(b.a)({},t),{},{ingredient_set:t.ingredients}),{headers:q()});case 2:return n=e.sent,e.abrupt("return",n.data.id);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.put("".concat(X,"/recipes/").concat(t.id,"/"),Object(b.a)(Object(b.a)({},t),{},{ingredient_set:t.ingredients}),{headers:q()});case 2:return n=e.sent,e.abrupt("return",n.data.id);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return ne.apply(this,arguments)}function ne(){return(ne=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.get("".concat(X,"/recipes/"),{headers:q()});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return re.apply(this,arguments)}function re(){return(re=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.get("".concat(X,"/recipes/").concat(t,"/"),{headers:q()});case 2:return n=e.sent,e.abrupt("return",Object(b.a)(Object(b.a)({},n.data),{},{ingredients:n.data.ingredient_set}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e,t){return ie.apply(this,arguments)}function ie(){return(ie=Object(j.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.get("".concat(X,"/scrape/"),{params:{scraper:t,url:n},headers:q()});case 2:return a=e.sent,e.abrupt("return",Object(b.a)(Object(b.a)({},a.data),{},{url:n}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Rezept l\xf6schen?")){e.next=3;break}return e.next=3,J.a.delete("".concat(X,"/recipes/").concat(t,"/"),{headers:q()});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(){return le.apply(this,arguments)}function le(){return(le=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.get("".concat(X,"/plans/"),{headers:q()});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e,t){return de.apply(this,arguments)}function de(){return(de=Object(j.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.done=n,e.next=3,J.a.put("".concat(X,"/meals/").concat(t.id,"/"),t,{headers:q()});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e){return be.apply(this,arguments)}function be(){return(be=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.post("".concat(X,"/plans/"),Object(b.a)(Object(b.a)({},t),{},{meal_set:[]}),{headers:q()});case 2:return n=e.sent,e.abrupt("return",n.data.id);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Plan l\xf6schen?")){e.next=3;break}return e.next=3,J.a.delete("".concat(X,"/plans/").concat(t,"/"),{headers:q()});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e,t){return me.apply(this,arguments)}function me(){return(me=Object(j.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.a.post("".concat(K,"/auth/login/"),{email:t,password:n});case 3:return a=e.sent,e.abrupt("return",a.data.key||void 0);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function xe(){return ge.apply(this,arguments)}function ge(){return(ge=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.a.post("".concat(K,"/auth/logout/"),{},{headers:q()});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var ve=["classes","history"],we=Object(C.a)((function(e){return Object(m.a)({formRow:{marginBottom:25},ingredients:{display:"flex",marginBottom:10},ingredientsList:{flexGrow:1},addIngredient:{alignSelf:"flex-end",marginBottom:10}})}))(Object(O.g)((function(e){var t,n,r,c,i,s=e.classes,o=e.history,u=Object(L.a)(e,ve),p=Object(a.useState)((null===(t=u.recipe)||void 0===t?void 0:t.title)||""),h=Object(d.a)(p,2),O=h[0],f=h[1],m=Object(a.useState)((null===(n=u.recipe)||void 0===n?void 0:n.url)||""),x=Object(d.a)(m,2),g=x[0],v=x[1],k=Object(a.useState)((null===(r=u.recipe)||void 0===r?void 0:r.description)||""),S=Object(d.a)(k,2),N=S[0],B=S[1],C=Object(a.useState)((null===(c=u.ingredients)||void 0===c||null===(i=c[0])||void 0===i?void 0:i.num_portions)||2),R=Object(d.a)(C,2),I=R[0],_=R[1],z=Object(a.useState)([{amount:0,unit:"",name:"",num_portions:2}]),F=Object(d.a)(z,2),W=F[0],A=F[1];Object(a.useEffect)((function(){u.ingredients&&A(u.ingredients.map((function(e){return Object(b.a)({},e)})))}),[u.ingredients]);var H=function(e,t){var n=W.slice();n[e]=Object(b.a)({},t),A(n)},U=function(){var e=Object(j.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a={id:null===(n=u.recipe)||void 0===n?void 0:n.id,title:O,url:g,description:N,ingredients:W.map((function(e,t){return e.id=u.recipe&&u.recipe.ingredients[t]?u.recipe.ingredients[t].id:void 0,e.num_portions=I,e})),confirmed:!1},!u.editExisting){e.next=8;break}return e.next=5,$(a);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,Q(a);case 10:e.t0=e.sent;case 11:r=e.t0,isNaN(r)||(alert("Rezept gespeichert!"),u.editExisting?window.location.reload():o.push("recipe/".concat(r)));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsxs)("form",{noValidate:!0,onSubmit:U,children:[Object(T.jsx)(y.a,{gutterBottom:!0,variant:"h5",children:u.recipe?"Rezept bearbeiten":"Neues Rezept"}),Object(T.jsx)(P.a,{className:s.formRow,id:"title",label:"Titel",fullWidth:!0,value:O,onChange:function(e){return f(e.target.value)}}),Object(T.jsx)(P.a,{className:s.formRow,id:"url",label:"URL (optional)",fullWidth:!0,value:g,onChange:function(e){return v(e.target.value)}}),Object(T.jsx)(Z,{portions:I,changeHandler:function(e){return _(parseInt(e.target.value))}}),Object(T.jsxs)("div",{className:s.ingredients,children:[Object(T.jsx)("div",{className:s.ingredientsList,children:W.map((function(e,t){return Object(T.jsx)(G,{index:t,ingredient:e,updateIngredient:H},t)}))}),Object(T.jsx)(w.a,{className:s.addIngredient,color:"secondary",onClick:function(){A([].concat(Object(E.a)(W),[{amount:0,unit:"",name:"",num_portions:2}]))},children:Object(T.jsx)(M.a,{})})]}),Object(T.jsx)(P.a,{className:s.formRow,id:"description",label:"Beschreibung",rows:20,variant:"outlined",multiline:!0,fullWidth:!0,value:N,onChange:function(e){return B(e.target.value)}}),Object(T.jsx)(D.a,{variant:"contained",color:"primary",type:"submit",children:"Speichern"})]})}))),ye=n(168),ke=n(205),Se=n(206),Ne=n(202),Be=n(210),Ce=n(236),Re=n(211),Ie=n(212),_e=Object(C.a)((function(e){return Object(m.a)({form:{maxWidth:e.spacing(50),margin:"0 auto"},section:{marginBottom:e.spacing(3)}})}))(Object(O.g)((function(e){var t=e.classes,n=e.history,r=Object(a.useState)(""),c=Object(d.a)(r,2),i=c[0],s=c[1],o=Object(a.useState)(""),u=Object(d.a)(o,2),p=u[0],b=u[1],h=Object(a.useState)(!1),O=Object(d.a)(h,2),f=O[0],m=O[1],x=Object(a.useState)(!1),g=Object(d.a)(x,2),v=g[0],y=g[1],k=Object(a.useState)(!0),S=Object(d.a)(k,2),N=S[0],B=S[1];Object(a.useEffect)((function(){null===localStorage.getItem("token")&&B(!1)}),[n,B]);var C=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),y(!1),e.next=4,fe(i,p);case 4:if(!(n=e.sent)){e.next=10;break}return localStorage.clear(),localStorage.setItem("token",n),window.location.reload(),e.abrupt("return");case 10:localStorage.clear(),y(!0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return N?null:Object(T.jsxs)("form",{onSubmit:C,className:t.form,children:[v&&Object(T.jsx)(Ce.a,{elevation:6,variant:"filled",severity:"warning",className:t.section,children:"Login failed!"}),Object(T.jsx)(ye.a,{className:t.section,children:Object(T.jsxs)(ke.a,{error:v,children:[Object(T.jsx)(Se.a,{htmlFor:"email",children:"E-Mail"}),Object(T.jsx)(Ne.a,{id:"email",type:"email",value:i,onChange:function(e){return s(e.target.value)}})]})}),Object(T.jsx)(ye.a,{className:t.section,children:Object(T.jsxs)(ke.a,{error:v,children:[Object(T.jsx)(Se.a,{htmlFor:"password",children:"Password"}),Object(T.jsx)(Ne.a,{id:"password",type:f?"text":"password",value:p,onChange:function(e){return b(e.target.value)},endAdornment:Object(T.jsx)(Be.a,{position:"end",children:Object(T.jsx)(w.a,{"aria-label":"toggle password visibility",onClick:function(){return m((function(e){return!e}))},onMouseDown:function(e){return e.preventDefault()},children:f?Object(T.jsx)(Re.a,{}):Object(T.jsx)(Ie.a,{})})})})]})}),Object(T.jsx)(ye.a,{className:t.section,children:Object(T.jsx)(D.a,{variant:"contained",color:"primary",type:"submit",children:"Submit"})})]})}))),ze=n(213),Fe=n(214),We=n(215),Ee=n(106),Le=n.n(Ee),Pe=n(107),De=n.n(Pe),Ae=n(108),Me=n.n(Ae),Te=n(109),He=n.n(Te),Ge=n(110),Ue=n.n(Ge),Ze=function(){var e=Object(O.f)().pathname,t=[{route:"/",title:"Alle Rezepte",icon:Object(T.jsx)(Le.a,{color:"secondary"})},{route:"/create",title:"Neues Rezept",icon:Object(T.jsx)(De.a,{color:"secondary"})},{route:"/import",title:"Rezept Import",icon:Object(T.jsx)(Me.a,{color:"secondary"})},{route:"/weekplan",title:"Wochenplan",icon:Object(T.jsx)(He.a,{color:"secondary"})},{route:"/create-weekplan",title:"Neuer Wochenplan",icon:Object(T.jsx)(Ue.a,{color:"secondary"})}];return Object(T.jsx)("div",{children:t.map((function(t){return Object(T.jsxs)(ze.a,{component:h.b,to:t.route,selected:e===t.route,button:!0,children:[Object(T.jsx)(Fe.a,{children:t.icon}),Object(T.jsx)(We.a,{primary:t.title})]},t.route)}))})},Ve=n(216),Je=n(167),Ke=n(217),Xe=n(218),qe=n(219),Qe=n(220),Ye=n(221),$e=n(222),et=n(78),tt=n.n(et),nt=Object(C.a)((function(e){return Object(m.a)({unconfirmed_icon:{fontSize:"1.125rem",marginLeft:e.spacing()}})}))((function(e){var t=e.classes,n=Object(a.useState)([]),r=Object(d.a)(n,2),c=r[0],i=r[1];return Object(a.useEffect)((function(){(function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te();case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(y.a,{gutterBottom:!0,variant:"h5",children:[c.length," Rezepte"]}),Object(T.jsx)(Ve.a,{component:Je.a,children:Object(T.jsxs)(Ke.a,{"aria-label":"recipes table",children:[Object(T.jsx)(Xe.a,{children:Object(T.jsxs)(qe.a,{children:[Object(T.jsx)(Qe.a,{children:"ID"}),Object(T.jsx)(Qe.a,{children:"Titel"})]})}),Object(T.jsx)(Ye.a,{children:c.map((function(e){return Object(T.jsxs)(qe.a,{children:[Object(T.jsx)(Qe.a,{component:"th",scope:"row",children:e.id}),Object(T.jsxs)(Qe.a,{children:[Object(T.jsx)($e.a,{component:h.b,to:"/recipe/".concat(e.id),color:"secondary",children:e.title}),!e.confirmed&&Object(T.jsx)("span",{title:"Noch nicht best\xe4tigt!",children:Object(T.jsx)(tt.a,{color:"secondary",className:t.unconfirmed_icon})})]})]},e.id)}))})]})})]})})),at=n(240),rt=n(79),ct=n.n(rt),it=n(111),st=n.n(it),ot=n(112),ut=n.n(ot),lt=Object(C.a)((function(e){return Object(m.a)({block:{marginBottom:15},textBlock:{whiteSpace:"pre-line"}})}))(Object(O.g)((function(e){var t=e.classes,n=e.match,r=e.history,c=Object(a.useState)(parseInt(n.params.id)),i=Object(d.a)(c,1)[0],s=Object(a.useState)({id:0,title:"",description:"",ingredients:[],confirmed:!0}),o=Object(d.a)(s,2),u=o[0],p=o[1],h=Object(a.useState)([]),O=Object(d.a)(h,2),f=O[0],m=O[1],x=Object(a.useState)(2),g=Object(d.a)(x,2),v=g[0],k=g[1],S=Object(a.useState)(!1),N=Object(d.a)(S,2),B=N[0],C=N[1],R=Object(a.useState)(!1),I=Object(d.a)(R,2),_=I[0],z=I[1];Object(a.useEffect)((function(){(function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(i);case 2:t=e.sent,p(t),m(t.ingredients);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]);var F=function(e){return e.amount/e.num_portions*v},W=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(i);case 2:r.push("/");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(Object(b.a)(Object(b.a)({},u),{},{confirmed:!0}));case 2:return t=e.sent,e.t0=p,e.next=6,ae(t);case 6:e.t1=e.sent,(0,e.t0)(e.t1),C(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(T.Fragment,{children:[u&&!_&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(y.a,{className:t.block,variant:"h4",children:[u.title,!u.confirmed&&Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(w.a,{title:"Best\xe4tigen",onClick:E,children:Object(T.jsx)(st.a,{color:"secondary"})})}),Object(T.jsx)(w.a,{"aria-label":"delete",title:"L\xf6schen",onClick:W,children:Object(T.jsx)(ct.a,{color:"secondary"})}),Object(T.jsx)(w.a,{"aria-label":"edit",title:"Bearbeiten",onClick:function(){return z(!0)},children:Object(T.jsx)(ut.a,{color:"secondary"})})]}),u.url&&Object(T.jsx)(y.a,{className:t.block,children:Object(T.jsx)($e.a,{href:u.url,target:"_blank",children:u.url})}),Object(T.jsx)(Z,{portions:v,changeHandler:function(e){return k(parseInt(e.target.value))}}),Object(T.jsx)(Ve.a,{className:t.block,component:Je.a,children:Object(T.jsxs)(Ke.a,{size:"small","aria-label":"recipes table",children:[Object(T.jsx)(Xe.a,{children:Object(T.jsxs)(qe.a,{children:[Object(T.jsx)(Qe.a,{children:"Menge"}),Object(T.jsx)(Qe.a,{children:"Zutat"})]})}),Object(T.jsx)(Ye.a,{children:u.ingredients.sort((function(e,t){return e.id&&t.id?e.id>t.id?1:-1:1})).map((function(e){return Object(T.jsxs)(qe.a,{children:[Object(T.jsx)(Qe.a,{children:"".concat(F(e)||""," ").concat(e.unit)}),Object(T.jsx)(Qe.a,{children:e.name})]},e.id)}))})]})}),Object(T.jsx)(y.a,{className:t.block,variant:"h5",children:"Zubereitung"}),Object(T.jsx)(y.a,{className:t.textBlock,children:u.description}),Object(T.jsx)(at.a,{open:B,autoHideDuration:1e3,onClose:function(){return C(!1)},message:"Rezept best\xe4tigt!"})]}),u&&_&&Object(T.jsx)(we,{recipe:u,ingredients:f,editExisting:!0})]})}))),jt=n(166),dt=n(223),pt=n(224),bt=n(237),ht=Object(C.a)((function(e){return Object(m.a)({formRow:{marginBottom:25}})}))((function(e){var t=e.classes,n=Object(a.useState)("chefkoch"),r=Object(d.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(""),o=Object(d.a)(s,2),u=o[0],p=o[1],b=Object(a.useState)(!1),h=Object(d.a)(b,2),O=h[0],f=h[1],m=Object(a.useState)({}),x=Object(d.a)(m,2),g=x[0],v=x[1],w=Object(a.useState)([]),k=Object(d.a)(w,2),S=k[0],N=k[1],B=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,ce(c,u);case 3:if(!(null===(n=e.sent)||void 0===n?void 0:n.error)){e.next=7;break}return alert(n.error),e.abrupt("return");case 7:v(n.recipe),N(n.ingredients.map((function(e){return{num_portions:e.num_portions,unit:e.unit||"",amount:e.amount||0,name:e.name}}))),f(!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsxs)(T.Fragment,{children:[!O&&Object(T.jsxs)("form",{noValidate:!0,onSubmit:B,children:[Object(T.jsx)(y.a,{gutterBottom:!0,variant:"h5",children:"Rezept Import"}),Object(T.jsx)(P.a,{className:t.formRow,id:"url",label:"URL",fullWidth:!0,value:u,onChange:function(e){return p(e.target.value)}}),Object(T.jsx)(ye.a,{children:Object(T.jsxs)(ke.a,{component:"fieldset",className:t.formRow,children:[Object(T.jsx)(jt.a,{component:"legend",children:"Importieren von ..."}),Object(T.jsx)(dt.a,{"aria-label":"import from",name:"scraper",value:c,onChange:function(e){return i(e.target.value)},children:Object(T.jsx)(pt.a,{value:"chefkoch",control:Object(T.jsx)(bt.a,{}),label:"Chefkoch"})})]})}),Object(T.jsx)(D.a,{variant:"contained",color:"primary",type:"submit",children:"Importieren"})]}),O&&Object(T.jsx)(we,{recipe:g,ingredients:S})]})})),Ot=n(241),ft=n(225),mt=n(226),xt=n(238),gt=Object(C.a)((function(e){return Object(m.a)({root:{width:"100%"},summary:{backgroundColor:e.palette.primary.light,color:e.palette.primary.contrastText,"&:focus":{backgroundColor:e.palette.primary.light}},details:{display:"block",position:"relative"},recipe_done:{textDecoration:"line-through"},delete_button:{position:"absolute",right:0,bottom:0}})}))((function(e){var t=e.classes,n=Object(a.useState)([]),c=Object(d.a)(n,2),i=c[0],s=c[1],o=r.a.useState(-1),u=Object(d.a)(o,2),p=u[0],b=u[1],O=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue();case 2:(t=e.sent).length&&(s(t),b(t[0].id));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){O()}),[]);var f=function(e){return function(){var t=Object(j.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,je(e,n.target.checked);case 2:O();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(t);case 2:O();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsxs)("div",{className:t.root,children:[Object(T.jsx)(y.a,{gutterBottom:!0,variant:"h5",children:"Wochenplan"}),i.map((function(e){return Object(T.jsxs)(Ot.a,{expanded:p===e.id,onChange:(n=e.id,function(e,t){b(t?n:-1)}),children:[Object(T.jsx)(ft.a,{className:t.summary,classes:{focused:t.summary},children:Object(T.jsx)(y.a,{children:new Date(e.created).toLocaleString().split(",")[0]})}),Object(T.jsxs)(mt.a,{className:t.details,children:[e.comment&&Object(T.jsx)(y.a,{component:"p",paragraph:!0,children:Object(T.jsx)("em",{children:e.comment})}),e.meal_set.map((function(e){return Object(T.jsxs)("div",{children:[Object(T.jsx)(xt.a,{checked:e.done,onChange:f(e)}),Object(T.jsx)($e.a,{className:e.done?t.recipe_done:"",component:h.b,to:"/recipe/".concat(e.recipe_id),color:"secondary",children:e.title})]},e.id)})),Object(T.jsx)(w.a,{className:t.delete_button,"aria-label":"delete",onClick:function(){return m(e.id)},children:Object(T.jsx)(ct.a,{color:"secondary"})})]})]},e.id);var n}))]})})),vt=Object(C.a)((function(e){return Object(m.a)({formRow:{marginBottom:25},unconfirmed_icon:{fontSize:"1.125rem",marginLeft:e.spacing()}})}))(Object(O.g)((function(e){var t=e.classes,n=e.history,r=Object(a.useState)([]),c=Object(d.a)(r,2),i=c[0],s=c[1],o=Object(a.useState)(""),u=Object(d.a)(o,2),p=u[0],b=u[1],O=Object(a.useState)([]),f=Object(d.a)(O,2),m=f[0],x=f[1];Object(a.useEffect)((function(){(function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te();case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var g=function(){var e=Object(j.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={comment:p,recipes:m},e.next=4,pe(a);case 4:r=e.sent,isNaN(r)||(alert("Plan gespeichert!"),n.push("weekplan"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){return function(t){t.target.checked?x([].concat(Object(E.a)(m),[e.id])):x(m.filter((function(t){return t!==e.id})))}};return Object(T.jsxs)("form",{noValidate:!0,onSubmit:g,children:[Object(T.jsx)(y.a,{gutterBottom:!0,variant:"h5",children:"Neuer Wochenplan"}),Object(T.jsx)(P.a,{className:t.formRow,id:"comment",label:"Kommentar (optional)",fullWidth:!0,value:p,onChange:function(e){return b(e.target.value)}}),Object(T.jsx)("div",{className:t.formRow,children:i.map((function(e){return Object(T.jsxs)("div",{children:[Object(T.jsx)(xt.a,{checked:m.includes(e.id),onChange:v(e)}),Object(T.jsx)($e.a,{component:h.b,to:"/recipe/".concat(e.id),color:"secondary",children:e.title}),!e.confirmed&&Object(T.jsx)("span",{title:"Noch nicht best\xe4tigt!",children:Object(T.jsx)(tt.a,{color:"secondary",className:t.unconfirmed_icon})})]},e.id)}))}),Object(T.jsx)(D.a,{variant:"contained",color:"primary",type:"submit",children:"Speichern"})]})}))),wt=n(116),yt=n.n(wt),kt=Object(C.a)((function(e){return Object(m.a)({root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(b.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(p.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}})}))((function(e){var t=e.classes,n=Object(a.useState)(!0),r=Object(d.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(!1),o=Object(d.a)(s,2),u=o[0],p=o[1];Object(a.useEffect)((function(){null!==localStorage.getItem("token")&&p(!0)}),[]);var b=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe();case 2:if(!e.sent){e.next=7;break}return localStorage.clear(),window.location.reload(),e.abrupt("return");case 7:alert("Error during logout!");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsx)(h.a,{children:Object(T.jsxs)("div",{className:t.root,children:[Object(T.jsx)(x.a,{}),Object(T.jsx)(g.a,{position:"absolute",className:Object(f.a)(t.appBar,c&&t.appBarShift),children:Object(T.jsxs)(v.a,{className:t.toolbar,children:[Object(T.jsx)(w.a,{edge:"start",color:"secondary","aria-label":"open drawer",onClick:function(){return i(!0)},className:Object(f.a)(t.menuButton,c&&t.menuButtonHidden),children:Object(T.jsx)(I.a,{})}),Object(T.jsx)(y.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title,children:"Rezepte"}),Object(T.jsx)(W.a,{color:"secondary"})]})}),Object(T.jsxs)(k.a,{variant:"permanent",classes:{paper:Object(f.a)(t.drawerPaper,!c&&t.drawerPaperClose)},open:c,children:[Object(T.jsx)("div",{className:t.toolbarIcon,children:Object(T.jsx)(w.a,{onClick:function(){return i(!1)},children:Object(T.jsx)(z.a,{color:"secondary"})})}),Object(T.jsx)(S.a,{}),Object(T.jsxs)(N.a,{children:[Object(T.jsx)(Ze,{}),u&&Object(T.jsxs)(ze.a,{button:!0,onClick:b,children:[Object(T.jsx)(Fe.a,{children:Object(T.jsx)(yt.a,{color:"secondary"})}),Object(T.jsx)(We.a,{primary:"Logout"})]})]})]}),Object(T.jsxs)("main",{className:t.content,children:[Object(T.jsx)("div",{className:t.appBarSpacer}),Object(T.jsxs)(B.a,{maxWidth:"lg",className:t.container,children:[u&&Object(T.jsxs)(O.c,{children:[Object(T.jsx)(O.a,{path:"/create",children:Object(T.jsx)(we,{})}),Object(T.jsx)(O.a,{path:"/import",children:Object(T.jsx)(ht,{})}),Object(T.jsx)(O.a,{path:"/weekplan",children:Object(T.jsx)(gt,{})}),Object(T.jsx)(O.a,{path:"/create-weekplan",children:Object(T.jsx)(vt,{})}),Object(T.jsx)(O.a,{path:"/recipe/:id",children:Object(T.jsx)(lt,{})}),Object(T.jsx)(O.a,{path:"/",children:Object(T.jsx)(nt,{})})]}),!u&&Object(T.jsx)(O.a,{path:"/",children:Object(T.jsx)(_e,{})})]})]})]})})})),St=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,243)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},Nt=Object(s.a)({palette:{primary:{main:"#0A4649"},secondary:{main:"#A46B3B"}}});i.a.render(Object(T.jsx)(r.a.StrictMode,{children:Object(T.jsx)(o.a,{theme:Nt,children:Object(T.jsx)(kt,{})})}),document.getElementById("root")),St()}},[[164,1,2]]]);
//# sourceMappingURL=main.749405dd.chunk.js.map