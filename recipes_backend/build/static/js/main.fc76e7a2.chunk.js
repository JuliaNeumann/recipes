(this.webpackJsonprecipes_frontend=this.webpackJsonprecipes_frontend||[]).push([[0],{131:function(e,t,n){},158:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),i=n.n(c),s=n(226),o=n(227),u=(n(131),n(7)),l=n.n(u),j=n(12),d=n(11),p=n(67),b=n(15),h=n(31),O=n(18),f=n(4),m=n(236),x=n(221),g=n(222),v=n(223),w=n(117),y=n(51),k=n(233),S=n(224),N=n(202),B=n(225),C=n(5),R=n(111),I=n.n(R),_=n(113),z=n.n(_),F=n(112),W=n.n(F),L=n(84),P=n(56),D=n(228),E=n(203),A=n(104),M=n.n(A),T=n(2),H=Object(C.a)((function(e){return Object(m.a)({formRowFlex:{marginBottom:25,display:"flex"},ingredientAmount:{maxWidth:60,marginRight:10},ingredientMain:{flexGrow:1,marginRight:10},ingredientUnit:{maxWidth:150,marginRight:10}})}))((function(e){var t=e.classes,n=Object(P.a)(e,["classes"]);return Object(T.jsxs)("div",{className:t.formRowFlex,children:[Object(T.jsx)(D.a,{className:t.ingredientAmount,label:"Menge",type:"number",value:n.ingredient.amount,onChange:function(e){return n.updateIngredient(n.index,Object(b.a)(Object(b.a)({},n.ingredient),{},{amount:parseInt(e.target.value)}))},InputLabelProps:{shrink:!0}}),Object(T.jsx)(D.a,{className:t.ingredientUnit,label:"Einheit",value:n.ingredient.unit,onChange:function(e){return n.updateIngredient(n.index,Object(b.a)(Object(b.a)({},n.ingredient),{},{unit:e.target.value}))}}),Object(T.jsx)(D.a,{className:t.ingredientMain,label:"Zutat",value:n.ingredient.name,onChange:function(e){return n.updateIngredient(n.index,Object(b.a)(Object(b.a)({},n.ingredient),{},{name:e.target.value}))}})]})})),G=Object(C.a)((function(e){return Object(m.a)({wrapper:{display:"flex",alignItems:"baseline",paddingBottom:e.spacing()},numField:{maxWidth:50,marginRight:e.spacing()}})}))((function(e){var t=e.classes,n=Object(P.a)(e,["classes"]);return Object(T.jsxs)(y.a,{className:t.wrapper,component:"div",children:["Zutaten f\xfcr \xa0",Object(T.jsx)(D.a,{className:t.numField,type:"number",InputProps:{inputProps:{min:1}},value:n.portions,onChange:n.changeHandler}),"Portionen:"]})})),U=n(34),Z=n.n(U),V="http://localhost:8000/users",J="http://localhost:8000/api",K=function(){return{Authorization:"Token ".concat(localStorage.getItem("token"))}};function X(e){return q.apply(this,arguments)}function q(){return(q=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.a.post("".concat(J,"/recipes/"),Object(b.a)(Object(b.a)({},t),{},{ingredient_set:t.ingredients}),{headers:K()});case 2:return n=e.sent,e.abrupt("return",n.data.id);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.a.put("".concat(J,"/recipes/").concat(t.id,"/"),t,{headers:K()});case 2:return n=e.sent,e.abrupt("return",Object(b.a)(Object(b.a)({},n.data),{},{ingredients:n.data.ingredient_set}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return ee.apply(this,arguments)}function ee(){return(ee=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.a.get("".concat(J,"/recipes/"),{headers:K()});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.a.get("".concat(J,"/recipes/").concat(t,"/"),{headers:K()});case 2:return n=e.sent,e.abrupt("return",Object(b.a)(Object(b.a)({},n.data),{},{ingredients:n.data.ingredient_set}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t){return re.apply(this,arguments)}function re(){return(re=Object(j.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.a.get("".concat(J,"/scrape/"),{params:{scraper:t,url:n},headers:K()});case 2:return a=e.sent,e.abrupt("return",Object(b.a)(Object(b.a)({},a.data),{},{url:n}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Rezept l\xf6schen?")){e.next=3;break}return e.next=3,Z.a.delete("".concat(J,"/recipes/").concat(t,"/"),{headers:K()});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return oe.apply(this,arguments)}function oe(){return(oe=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.a.get("".concat(J,"/plans/"),{headers:K()});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e,t){return le.apply(this,arguments)}function le(){return(le=Object(j.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.done=n,e.next=3,Z.a.put("".concat(J,"/meals/").concat(t.id,"/"),t,{headers:K()});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e){return de.apply(this,arguments)}function de(){return(de=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.a.post("".concat(J,"/plans/"),Object(b.a)(Object(b.a)({},t),{},{meal_set:[]}),{headers:K()});case 2:return n=e.sent,e.abrupt("return",n.data.id);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e){return be.apply(this,arguments)}function be(){return(be=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Plan l\xf6schen?")){e.next=3;break}return e.next=3,Z.a.delete("".concat(J,"/plans/").concat(t,"/"),{headers:K()});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e,t){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(j.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.a.post("".concat(V,"/auth/login/"),{email:t,password:n});case 3:return a=e.sent,e.abrupt("return",a.data.key||void 0);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function fe(){return me.apply(this,arguments)}function me(){return(me=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.a.post("".concat(V,"/auth/logout/"),{},{headers:K()});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var xe=Object(C.a)((function(e){return Object(m.a)({formRow:{marginBottom:25},ingredients:{display:"flex",marginBottom:10},ingredientsList:{flexGrow:1},addIngredient:{alignSelf:"flex-end",marginBottom:10}})}))(Object(O.g)((function(e){var t,n,r,c,i,s=e.classes,o=e.history,u=Object(P.a)(e,["classes","history"]),p=Object(a.useState)((null===(t=u.recipe)||void 0===t?void 0:t.title)||""),h=Object(d.a)(p,2),O=h[0],f=h[1],m=Object(a.useState)((null===(n=u.recipe)||void 0===n?void 0:n.url)||""),x=Object(d.a)(m,2),g=x[0],v=x[1],k=Object(a.useState)((null===(r=u.recipe)||void 0===r?void 0:r.description)||""),S=Object(d.a)(k,2),N=S[0],B=S[1],C=Object(a.useState)((null===(c=u.ingredients)||void 0===c||null===(i=c[0])||void 0===i?void 0:i.num_portions)||2),R=Object(d.a)(C,2),I=R[0],_=R[1],z=Object(a.useState)([{amount:0,unit:"",name:"",num_portions:2}]),F=Object(d.a)(z,2),W=F[0],A=F[1];Object(a.useEffect)((function(){u.ingredients&&A(u.ingredients.map((function(e){return Object(b.a)({},e)})))}),[u.ingredients]);var U=function(e,t){var n=W.slice();n[e]=Object(b.a)({},t),A(n)},Z=function(){var e=Object(j.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={title:O,url:g,description:N,ingredients:W.map((function(e){return e.num_portions=I,e})),confirmed:!1},e.next=4,X(n);case 4:a=e.sent,isNaN(a)||(alert("Rezept gespeichert!"),o.push("recipe/".concat(a)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsxs)("form",{noValidate:!0,onSubmit:Z,children:[Object(T.jsx)(y.a,{gutterBottom:!0,variant:"h5",children:"Neues Rezept"}),Object(T.jsx)(D.a,{className:s.formRow,id:"title",label:"Titel",fullWidth:!0,value:O,onChange:function(e){return f(e.target.value)}}),Object(T.jsx)(D.a,{className:s.formRow,id:"url",label:"URL (optional)",fullWidth:!0,value:g,onChange:function(e){return v(e.target.value)}}),Object(T.jsx)(G,{portions:I,changeHandler:function(e){return _(parseInt(e.target.value))}}),Object(T.jsxs)("div",{className:s.ingredients,children:[Object(T.jsx)("div",{className:s.ingredientsList,children:W.map((function(e,t){return Object(T.jsx)(H,{index:t,ingredient:e,updateIngredient:U},t)}))}),Object(T.jsx)(w.a,{className:s.addIngredient,color:"secondary",onClick:function(){A([].concat(Object(L.a)(W),[{amount:0,unit:"",name:"",num_portions:2}]))},children:Object(T.jsx)(M.a,{})})]}),Object(T.jsx)(D.a,{className:s.formRow,id:"description",label:"Beschreibung",rows:20,variant:"outlined",multiline:!0,fullWidth:!0,value:N,onChange:function(e){return B(e.target.value)}}),Object(T.jsx)(E.a,{variant:"contained",color:"primary",type:"submit",children:"Speichern"})]})}))),ge=n(162),ve=n(199),we=n(200),ye=n(196),ke=n(204),Se=n(230),Ne=n(205),Be=n(206),Ce=Object(C.a)((function(e){return Object(m.a)({form:{maxWidth:e.spacing(50),margin:"0 auto"},section:{marginBottom:e.spacing(3)}})}))(Object(O.g)((function(e){var t=e.classes,n=e.history,r=Object(a.useState)(""),c=Object(d.a)(r,2),i=c[0],s=c[1],o=Object(a.useState)(""),u=Object(d.a)(o,2),p=u[0],b=u[1],h=Object(a.useState)(!1),O=Object(d.a)(h,2),f=O[0],m=O[1],x=Object(a.useState)(!1),g=Object(d.a)(x,2),v=g[0],y=g[1],k=Object(a.useState)(!0),S=Object(d.a)(k,2),N=S[0],B=S[1];Object(a.useEffect)((function(){null===localStorage.getItem("token")&&B(!1)}),[n,B]);var C=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),y(!1),e.next=4,he(i,p);case 4:if(!(n=e.sent)){e.next=10;break}return localStorage.clear(),localStorage.setItem("token",n),window.location.reload(),e.abrupt("return");case 10:localStorage.clear(),y(!0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return N?null:Object(T.jsxs)("form",{onSubmit:C,className:t.form,children:[v&&Object(T.jsx)(Se.a,{elevation:6,variant:"filled",severity:"warning",className:t.section,children:"Login failed!"}),Object(T.jsx)(ge.a,{className:t.section,children:Object(T.jsxs)(ve.a,{error:v,children:[Object(T.jsx)(we.a,{htmlFor:"email",children:"E-Mail"}),Object(T.jsx)(ye.a,{id:"email",type:"email",value:i,onChange:function(e){return s(e.target.value)}})]})}),Object(T.jsx)(ge.a,{className:t.section,children:Object(T.jsxs)(ve.a,{error:v,children:[Object(T.jsx)(we.a,{htmlFor:"password",children:"Password"}),Object(T.jsx)(ye.a,{id:"password",type:f?"text":"password",value:p,onChange:function(e){return b(e.target.value)},endAdornment:Object(T.jsx)(ke.a,{position:"end",children:Object(T.jsx)(w.a,{"aria-label":"toggle password visibility",onClick:function(){return m((function(e){return!e}))},onMouseDown:function(e){return e.preventDefault()},children:f?Object(T.jsx)(Ne.a,{}):Object(T.jsx)(Be.a,{})})})})]})}),Object(T.jsx)(ge.a,{className:t.section,children:Object(T.jsx)(E.a,{variant:"contained",color:"primary",type:"submit",children:"Submit"})})]})}))),Re=n(207),Ie=n(208),_e=n(209),ze=n(105),Fe=n.n(ze),We=n(106),Le=n.n(We),Pe=n(107),De=n.n(Pe),Ee=n(108),Ae=n.n(Ee),Me=n(109),Te=n.n(Me),He=function(){var e=Object(O.f)().pathname,t=[{route:"/",title:"Alle Rezepte",icon:Object(T.jsx)(Fe.a,{color:"secondary"})},{route:"/create",title:"Neues Rezept",icon:Object(T.jsx)(Le.a,{color:"secondary"})},{route:"/import",title:"Rezept Import",icon:Object(T.jsx)(De.a,{color:"secondary"})},{route:"/weekplan",title:"Wochenplan",icon:Object(T.jsx)(Ae.a,{color:"secondary"})},{route:"/create-weekplan",title:"Neuer Wochenplan",icon:Object(T.jsx)(Te.a,{color:"secondary"})}];return Object(T.jsx)("div",{children:t.map((function(t){return Object(T.jsxs)(Re.a,{component:h.b,to:t.route,selected:e===t.route,button:!0,children:[Object(T.jsx)(Ie.a,{children:t.icon}),Object(T.jsx)(_e.a,{primary:t.title})]},t.route)}))})},Ge=n(210),Ue=n(161),Ze=n(211),Ve=n(212),Je=n(213),Ke=n(214),Xe=n(215),qe=n(216),Qe=n(78),Ye=n.n(Qe),$e=Object(C.a)((function(e){return Object(m.a)({unconfirmed_icon:{fontSize:"1.125rem",marginLeft:e.spacing()}})}))((function(e){var t=e.classes,n=Object(a.useState)([]),r=Object(d.a)(n,2),c=r[0],i=r[1];return Object(a.useEffect)((function(){(function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$();case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(y.a,{gutterBottom:!0,variant:"h5",children:[c.length," Rezepte"]}),Object(T.jsx)(Ge.a,{component:Ue.a,children:Object(T.jsxs)(Ze.a,{"aria-label":"recipes table",children:[Object(T.jsx)(Ve.a,{children:Object(T.jsxs)(Je.a,{children:[Object(T.jsx)(Ke.a,{children:"ID"}),Object(T.jsx)(Ke.a,{children:"Titel"})]})}),Object(T.jsx)(Xe.a,{children:c.map((function(e){return Object(T.jsxs)(Je.a,{children:[Object(T.jsx)(Ke.a,{component:"th",scope:"row",children:e.id}),Object(T.jsxs)(Ke.a,{children:[Object(T.jsx)(qe.a,{component:h.b,to:"/recipe/".concat(e.id),color:"secondary",children:e.title}),!e.confirmed&&Object(T.jsx)("span",{title:"Noch nicht best\xe4tigt!",children:Object(T.jsx)(Ye.a,{color:"secondary",className:t.unconfirmed_icon})})]})]},e.id)}))})]})})]})})),et=n(234),tt=n(79),nt=n.n(tt),at=n(110),rt=n.n(at),ct=Object(C.a)((function(e){return Object(m.a)({block:{marginBottom:15},textBlock:{whiteSpace:"pre-line"}})}))(Object(O.g)((function(e){var t=e.classes,n=e.match,r=e.history,c=Object(a.useState)(parseInt(n.params.id)),i=Object(d.a)(c,1)[0],s=Object(a.useState)({id:0,title:"",description:"",ingredients:[],confirmed:!0}),o=Object(d.a)(s,2),u=o[0],p=o[1],h=Object(a.useState)(2),O=Object(d.a)(h,2),f=O[0],m=O[1],x=Object(a.useState)(!1),g=Object(d.a)(x,2),v=g[0],k=g[1];Object(a.useEffect)((function(){(function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(i);case 2:t=e.sent,p(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]);var S=function(e){return e.amount/e.num_portions*f},N=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(i);case 2:r.push("/");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(Object(b.a)(Object(b.a)({},u),{},{confirmed:!0}));case 2:t=e.sent,p(t),k(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsx)(T.Fragment,{children:u&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(y.a,{className:t.block,variant:"h4",children:[u.title,!u.confirmed&&Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(w.a,{title:"Best\xe4tigen",onClick:B,children:Object(T.jsx)(rt.a,{color:"secondary"})})}),Object(T.jsx)(w.a,{"aria-label":"delete",title:"L\xf6schen",onClick:N,children:Object(T.jsx)(nt.a,{color:"secondary"})})]}),u.url&&Object(T.jsx)(y.a,{className:t.block,children:Object(T.jsx)(qe.a,{href:u.url,target:"_blank",children:u.url})}),Object(T.jsx)(G,{portions:f,changeHandler:function(e){return m(parseInt(e.target.value))}}),Object(T.jsx)(Ge.a,{className:t.block,component:Ue.a,children:Object(T.jsxs)(Ze.a,{size:"small","aria-label":"recipes table",children:[Object(T.jsx)(Ve.a,{children:Object(T.jsxs)(Je.a,{children:[Object(T.jsx)(Ke.a,{children:"Menge"}),Object(T.jsx)(Ke.a,{children:"Zutat"})]})}),Object(T.jsx)(Xe.a,{children:u.ingredients.sort((function(e,t){return e.id&&t.id?e.id>t.id?1:-1:1})).map((function(e){return Object(T.jsxs)(Je.a,{children:[Object(T.jsx)(Ke.a,{children:"".concat(S(e)||""," ").concat(e.unit)}),Object(T.jsx)(Ke.a,{children:e.name})]},e.id)}))})]})}),Object(T.jsx)(y.a,{className:t.block,variant:"h5",children:"Zubereitung"}),Object(T.jsx)(y.a,{className:t.textBlock,children:u.description}),Object(T.jsx)(et.a,{open:v,autoHideDuration:1e3,onClose:function(){return k(!1)},message:"Rezept best\xe4tigt!"})]})})}))),it=n(160),st=n(217),ot=n(218),ut=n(231),lt=Object(C.a)((function(e){return Object(m.a)({formRow:{marginBottom:25}})}))((function(e){var t=e.classes,n=Object(a.useState)("chefkoch"),r=Object(d.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(""),o=Object(d.a)(s,2),u=o[0],p=o[1],b=Object(a.useState)(!1),h=Object(d.a)(b,2),O=h[0],f=h[1],m=Object(a.useState)({}),x=Object(d.a)(m,2),g=x[0],v=x[1],w=Object(a.useState)([]),k=Object(d.a)(w,2),S=k[0],N=k[1],B=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,ae(c,u);case 3:if(!(null===(n=e.sent)||void 0===n?void 0:n.error)){e.next=7;break}return alert(n.error),e.abrupt("return");case 7:v(n.recipe),N(n.ingredients.map((function(e){return{num_portions:e.num_portions,unit:e.unit||"",amount:e.amount||0,name:e.name}}))),f(!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsxs)(T.Fragment,{children:[!O&&Object(T.jsxs)("form",{noValidate:!0,onSubmit:B,children:[Object(T.jsx)(y.a,{gutterBottom:!0,variant:"h5",children:"Rezept Import"}),Object(T.jsx)(D.a,{className:t.formRow,id:"url",label:"URL",fullWidth:!0,value:u,onChange:function(e){return p(e.target.value)}}),Object(T.jsx)(ge.a,{children:Object(T.jsxs)(ve.a,{component:"fieldset",className:t.formRow,children:[Object(T.jsx)(it.a,{component:"legend",children:"Importieren von ..."}),Object(T.jsx)(st.a,{"aria-label":"import from",name:"scraper",value:c,onChange:function(e){return i(e.target.value)},children:Object(T.jsx)(ot.a,{value:"chefkoch",control:Object(T.jsx)(ut.a,{}),label:"Chefkoch"})})]})}),Object(T.jsx)(E.a,{variant:"contained",color:"primary",type:"submit",children:"Importieren"})]}),O&&Object(T.jsx)(xe,{recipe:g,ingredients:S})]})})),jt=n(235),dt=n(219),pt=n(220),bt=n(232),ht=Object(C.a)((function(e){return Object(m.a)({root:{width:"100%"},summary:{backgroundColor:e.palette.primary.light,color:e.palette.primary.contrastText,"&:focus":{backgroundColor:e.palette.primary.light}},details:{display:"block",position:"relative"},recipe_done:{textDecoration:"line-through"},delete_button:{position:"absolute",right:0,bottom:0}})}))((function(e){var t=e.classes,n=Object(a.useState)([]),c=Object(d.a)(n,2),i=c[0],s=c[1],o=r.a.useState(-1),u=Object(d.a)(o,2),p=u[0],b=u[1],O=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:(t=e.sent).length&&(s(t),b(t[0].id));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){O()}),[]);var f=function(e){return function(){var t=Object(j.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ue(e,n.target.checked);case 2:O();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe(t);case 2:O();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsxs)("div",{className:t.root,children:[Object(T.jsx)(y.a,{gutterBottom:!0,variant:"h5",children:"Wochenplan"}),i.map((function(e){return Object(T.jsxs)(jt.a,{expanded:p===e.id,onChange:(n=e.id,function(e,t){b(t?n:-1)}),children:[Object(T.jsx)(dt.a,{className:t.summary,classes:{focused:t.summary},children:Object(T.jsx)(y.a,{children:new Date(e.created).toLocaleString().split(",")[0]})}),Object(T.jsxs)(pt.a,{className:t.details,children:[e.comment&&Object(T.jsx)(y.a,{component:"p",paragraph:!0,children:Object(T.jsx)("em",{children:e.comment})}),e.meal_set.map((function(e){return Object(T.jsxs)("div",{children:[Object(T.jsx)(bt.a,{checked:e.done,onChange:f(e)}),Object(T.jsx)(qe.a,{className:e.done?t.recipe_done:"",component:h.b,to:"/recipe/".concat(e.recipe_id),color:"secondary",children:e.title})]},e.id)})),Object(T.jsx)(w.a,{className:t.delete_button,"aria-label":"delete",onClick:function(){return m(e.id)},children:Object(T.jsx)(nt.a,{color:"secondary"})})]})]},e.id);var n}))]})})),Ot=Object(C.a)((function(e){return Object(m.a)({formRow:{marginBottom:25},unconfirmed_icon:{fontSize:"1.125rem",marginLeft:e.spacing()}})}))(Object(O.g)((function(e){var t=e.classes,n=e.history,r=Object(a.useState)([]),c=Object(d.a)(r,2),i=c[0],s=c[1],o=Object(a.useState)(""),u=Object(d.a)(o,2),p=u[0],b=u[1],O=Object(a.useState)([]),f=Object(d.a)(O,2),m=f[0],x=f[1];Object(a.useEffect)((function(){(function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$();case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var g=function(){var e=Object(j.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={comment:p,recipes:m},e.next=4,je(a);case 4:r=e.sent,isNaN(r)||(alert("Plan gespeichert!"),n.push("weekplan"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){return function(t){t.target.checked?x([].concat(Object(L.a)(m),[e.id])):x(m.filter((function(t){return t!==e.id})))}};return Object(T.jsxs)("form",{noValidate:!0,onSubmit:g,children:[Object(T.jsx)(y.a,{gutterBottom:!0,variant:"h5",children:"Neuer Wochenplan"}),Object(T.jsx)(D.a,{className:t.formRow,id:"comment",label:"Kommentar (optional)",fullWidth:!0,value:p,onChange:function(e){return b(e.target.value)}}),Object(T.jsx)("div",{className:t.formRow,children:i.map((function(e){return Object(T.jsxs)("div",{children:[Object(T.jsx)(bt.a,{checked:m.includes(e.id),onChange:v(e)}),Object(T.jsx)(qe.a,{component:h.b,to:"/recipe/".concat(e.id),color:"secondary",children:e.title}),!e.confirmed&&Object(T.jsx)("span",{title:"Noch nicht best\xe4tigt!",children:Object(T.jsx)(Ye.a,{color:"secondary",className:t.unconfirmed_icon})})]},e.id)}))}),Object(T.jsx)(E.a,{variant:"contained",color:"primary",type:"submit",children:"Speichern"})]})}))),ft=n(114),mt=n.n(ft),xt=Object(C.a)((function(e){return Object(m.a)({root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(b.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(p.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}})}))((function(e){var t=e.classes,n=Object(a.useState)(!0),r=Object(d.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(!1),o=Object(d.a)(s,2),u=o[0],p=o[1];Object(a.useEffect)((function(){null!==localStorage.getItem("token")&&p(!0)}),[]);var b=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:if(!e.sent){e.next=7;break}return localStorage.clear(),window.location.reload(),e.abrupt("return");case 7:alert("Error during logout!");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsx)(h.a,{children:Object(T.jsxs)("div",{className:t.root,children:[Object(T.jsx)(x.a,{}),Object(T.jsx)(g.a,{position:"absolute",className:Object(f.a)(t.appBar,c&&t.appBarShift),children:Object(T.jsxs)(v.a,{className:t.toolbar,children:[Object(T.jsx)(w.a,{edge:"start",color:"secondary","aria-label":"open drawer",onClick:function(){return i(!0)},className:Object(f.a)(t.menuButton,c&&t.menuButtonHidden),children:Object(T.jsx)(I.a,{})}),Object(T.jsx)(y.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title,children:"Rezepte"}),Object(T.jsx)(W.a,{color:"secondary"})]})}),Object(T.jsxs)(k.a,{variant:"permanent",classes:{paper:Object(f.a)(t.drawerPaper,!c&&t.drawerPaperClose)},open:c,children:[Object(T.jsx)("div",{className:t.toolbarIcon,children:Object(T.jsx)(w.a,{onClick:function(){return i(!1)},children:Object(T.jsx)(z.a,{color:"secondary"})})}),Object(T.jsx)(S.a,{}),Object(T.jsxs)(N.a,{children:[Object(T.jsx)(He,{}),u&&Object(T.jsxs)(Re.a,{button:!0,onClick:b,children:[Object(T.jsx)(Ie.a,{children:Object(T.jsx)(mt.a,{color:"secondary"})}),Object(T.jsx)(_e.a,{primary:"Logout"})]})]})]}),Object(T.jsxs)("main",{className:t.content,children:[Object(T.jsx)("div",{className:t.appBarSpacer}),Object(T.jsxs)(B.a,{maxWidth:"lg",className:t.container,children:[u&&Object(T.jsxs)(O.c,{children:[Object(T.jsx)(O.a,{path:"/create",children:Object(T.jsx)(xe,{})}),Object(T.jsx)(O.a,{path:"/import",children:Object(T.jsx)(lt,{})}),Object(T.jsx)(O.a,{path:"/weekplan",children:Object(T.jsx)(ht,{})}),Object(T.jsx)(O.a,{path:"/create-weekplan",children:Object(T.jsx)(Ot,{})}),Object(T.jsx)(O.a,{path:"/recipe/:id",children:Object(T.jsx)(ct,{})}),Object(T.jsx)(O.a,{path:"/",children:Object(T.jsx)($e,{})})]}),!u&&Object(T.jsx)(O.a,{path:"/",children:Object(T.jsx)(Ce,{})})]})]})]})})})),gt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,237)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},vt=Object(s.a)({palette:{primary:{main:"#0A4649"},secondary:{main:"#A46B3B"}}});i.a.render(Object(T.jsx)(r.a.StrictMode,{children:Object(T.jsx)(o.a,{theme:vt,children:Object(T.jsx)(xt,{})})}),document.getElementById("root")),gt()}},[[158,1,2]]]);
//# sourceMappingURL=main.fc76e7a2.chunk.js.map